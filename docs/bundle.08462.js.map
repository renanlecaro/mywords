{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./services/sameish.js","webpack:///../node_modules/diff/lib/index.es6.js","webpack:///./services/say.js","webpack:///./components/add.js","webpack:///./components/table.js","webpack:///./components/diff.js","webpack:///./components/edit.js","webpack:///./components/train.js","webpack:///./index.js","webpack:///./components/app.js","webpack:///./services/trainer.js","webpack:///./services/defaultWords.js","webpack:///../src/util.js","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/clone-element.js","webpack:///../src/create-context.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","sameish","a","b","simplify","stringToCheck","toLowerCase","trim","Diff","buildValues","diff","components","newString","oldString","useLongestToken","componentPos","componentLen","length","newPos","oldPos","component","removed","join","slice","count","added","tmp","map","oldValue","lastComponent","equals","pop","clonePath","path","diffChars","oldStr","newStr","options","characterDiff","generateOptions","defaults","callback","diffWords","ignoreWhitespace","wordDiff","diffWordsWithSpace","diffLines","lineDiff","diffTrimmedLines","diffSentences","sentenceDiff","diffCss","cssDiff","_typeof","obj","iterator","constructor","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","toString","from","_iterableToArray","TypeError","_nonIterableSpread","diffJson","oldObj","newObj","jsonDiff","canonicalize","stack","replacementStack","replacer","canonicalizedObj","objectPrototypeToString","push","toJSON","_key","sortedKeys","sort","diffArrays","oldArr","newArr","arrayDiff","parsePatch","uniDiff","parseIndex","index","list","diffstr","line","test","header","exec","parseFileHeader","hunks","_line","parseHunk","strict","Error","JSON","stringify","fileHeader","keyPrefix","data","split","fileName","replace","substr","chunkHeaderIndex","chunkHeader","hunk","oldStart","oldLines","newStart","newLines","lines","linedelimiters","addCount","removeCount","indexOf","operation","delimiters","arguments","undefined","match","distanceIterator","start","minLine","maxLine","wantForward","backwardExhausted","forwardExhausted","localOffset","applyPatch","source","hunkFits","toPos","j","content","compareLine","errorCount","fuzzFactor","removeEOFNL","addEOFNL","lineNumber","patchContent","offset","diffOffset","_i","_hunk","_toPos","delimiter","splice","previousOperation","_k","applyPatches","currentIndex","processIndex","complete","loadFile","err","updatedContent","patched","structuredPatch","oldFileName","newFileName","oldHeader","newHeader","contextLines","entry","context","oldRangeStart","newRangeStart","curRange","oldLine","newLine","_loop","current","_curRange","prev","apply","_curRange2","_curRange3","contextSize","Math","min","oldEOFNewline","newEOFNewline","noNlBeforeAdds","createTwoFilesPatch","ret","createPatch","arrayStartsWith","array","calcLineCount","_calcOldNewLineCount","calcOldNewLineCount","forEach","myCount","mine","theirCount","theirs","merge","base","loadPatch","fileNameChanged","selectField","mineIndex","theirsIndex","mineOffset","theirsOffset","mineCurrent","Infinity","theirsCurrent","hunkBefore","cloneHunk","mergedHunk","mergeLines","param","patch","conflict","check","mineLines","theirOffset","theirLines","their","insertLeading","theirCurrent","_hunk$lines","collectChange","_hunk$lines2","removal","mutualChange","insertTrailing","myChanges","theirChanges","allRemoves","_hunk$lines3","_hunk$lines4","skipRemoveSuperset","_hunk$lines5","swap","_hunk$lines6","state","matchChanges","changes","merged","matchIndex","contextChanges","conflicted","change","collectContext","insert","reduce","removeChanges","delta","changeContent","convertChangesToDMP","convertChangesToXML","escapeHTML","done","setTimeout","execEditLength","diagonalPath","editLength","basePath","addPath","bestPath","removePath","_oldPos","canAdd","newLen","canRemove","oldLen","self","pushComponent","extractCommon","this","castInput","removeEmpty","tokenize","maxEditLength","last","commonCount","left","right","comparator","ignoreCase","chars","extendedWordChars","reWhitespace","tokens","retLines","linesAndNewlines","newlineIsToken","_this$options","undefinedReplacement","_this$options$stringi","stringifyReplacer","k","v","parseVoices","voice","synth","getVoices","filter","lang","startsWith","sayInRussian","toText","utterance","SpeechSynthesisUtterance","console","log","speak","window","speechSynthesis","addEventListener","Add","to","comment","onSubmit","e","preventDefault","problem","alert","addWordToList","setState","w","backToEdit","props","go","componentDidMount","clearListener","getWordList","reverse","componentWillUnmount","render","onClick","className","htmlFor","id","type","placeholder","onKeyUp","target","Component","Table","columns","row","ShowDiff","answer","jsdiff","Edit","goToTraining","goToAdd","require","Train","onSubmitAnswer","word","validateSuccess","setNewWord","registerResult","guessed","validateFailure","setAnswer","getNextWordToTrain","renderByMode","confirm","Ask","input","focus","ref","Bravo","Nope","checkCorrectAnswerGiven","isCorrect","disabled","App","page","Page","cb","wordlist","listeners","_cb","max","localStorage","setItem","trainingData","time","Date","defaultList","parse","getItem","debug","assign","removeNode","node","parentNode","removeChild","createElement","children","normalizedProps","defaultProps","createVNode","vnode","_children","_parent","_depth","_dom","_nextDom","_component","createRef","Fragment","getDomSibling","childIndex","sibling","updateParentDomPointers","child","enqueueRender","_dirty","rerenderQueue","prevDebounce","debounceRendering","defer","process","commitQueue","newDom","oldDom","parentDom","_vnode","_parentDom","_globalContext","ownerSVGElement","commitRoot","diffChildren","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","oldVNode","sibDom","firstChildDom","refs","oldChildren","EMPTY_ARR","oldChildrenLength","EMPTY_OBJ","toChildArray","childVNode","nextDom","outer","appendChild","nextSibling","insertBefore","unmount","applyRef","flattened","setStyle","style","setProperty","IS_NON_DIMENSIONAL","dom","useCapture","nameLower","cssText","eventProxy","_listeners","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","newType","_diff","contextType","_id","_defaultValue","_processingException","_pendingError","doRender","sub","_renderCallbacks","_nextState","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","_force","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","_render","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","_catchError","root","_commit","some","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","replaceNode","_root","IS_HYDRATE","cloneElement","createContext","defaultValue","ctx","Consumer","Provider","subs","_this","_props","old","isValidElement","error","hasCaught","getDerivedStateFromError","componentDidCatch","update","forceUpdate","Promise","then","resolve","h","Preact","interopDefault","default","navigator","serviceWorker","register","__webpack_public_path__","getElementById","body","firstElementChild","app","preRenderData","inlineDataElement","querySelector","tagName","CLI_DATA","init"],"mappings":"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","file":"bundle.08462.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/mywords/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mdyV\");\n","\nexport function sameish(a,b) {\n  return simplify(a)==simplify(b)\n}\nfunction simplify(stringToCheck) {\n  return stringToCheck.toLowerCase().trim()\n}","function Diff() {}\nDiff.prototype = {\n  diff: function diff(oldString, newString) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = options.callback;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.options = options;\n    var self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function () {\n          callback(undefined, value);\n        }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    } // Allow subclasses to massage the input prior to running\n\n\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n    var newLen = newString.length,\n        oldLen = oldString.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n    var bestPath = [{\n      newPos: -1,\n      components: []\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n\n    if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n      // Identity per the equality and tokenizer\n      return done([{\n        value: this.join(newString),\n        count: newString.length\n      }]);\n    } // Main worker method. checks all permutations of a given edit length for acceptance.\n\n\n    function execEditLength() {\n      for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n        var basePath = void 0;\n\n        var addPath = bestPath[diagonalPath - 1],\n            removePath = bestPath[diagonalPath + 1],\n            _oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n\n        if (addPath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = addPath && addPath.newPos + 1 < newLen,\n            canRemove = removePath && 0 <= _oldPos && _oldPos < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the new string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n\n\n        if (!canAdd || canRemove && addPath.newPos < removePath.newPos) {\n          basePath = clonePath(removePath);\n          self.pushComponent(basePath.components, undefined, true);\n        } else {\n          basePath = addPath; // No need to clone, we've pulled it from the list\n\n          basePath.newPos++;\n          self.pushComponent(basePath.components, true, undefined);\n        }\n\n        _oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath); // If we have hit the end of both strings, then we are done\n\n        if (basePath.newPos + 1 >= newLen && _oldPos + 1 >= oldLen) {\n          return done(buildValues(self, basePath.components, newString, oldString, self.useLongestToken));\n        } else {\n          // Otherwise track this path as a potential candidate and continue.\n          bestPath[diagonalPath] = basePath;\n        }\n      }\n\n      editLength++;\n    } // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced.\n\n\n    if (callback) {\n      (function exec() {\n        setTimeout(function () {\n          // This should not happen, but we want to be safe.\n\n          /* istanbul ignore next */\n          if (editLength > maxEditLength) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      })();\n    } else {\n      while (editLength <= maxEditLength) {\n        var ret = execEditLength();\n\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  pushComponent: function pushComponent(components, added, removed) {\n    var last = components[components.length - 1];\n\n    if (last && last.added === added && last.removed === removed) {\n      // We need to clone here as the component clone operation is just\n      // as shallow array clone\n      components[components.length - 1] = {\n        count: last.count + 1,\n        added: added,\n        removed: removed\n      };\n    } else {\n      components.push({\n        count: 1,\n        added: added,\n        removed: removed\n      });\n    }\n  },\n  extractCommon: function extractCommon(basePath, newString, oldString, diagonalPath) {\n    var newLen = newString.length,\n        oldLen = oldString.length,\n        newPos = basePath.newPos,\n        oldPos = newPos - diagonalPath,\n        commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.components.push({\n        count: commonCount\n      });\n    }\n\n    basePath.newPos = newPos;\n    return oldPos;\n  },\n  equals: function equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right || this.options.ignoreCase && left.toLowerCase() === right.toLowerCase();\n    }\n  },\n  removeEmpty: function removeEmpty(array) {\n    var ret = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n\n    return ret;\n  },\n  castInput: function castInput(value) {\n    return value;\n  },\n  tokenize: function tokenize(value) {\n    return value.split('');\n  },\n  join: function join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, components, newString, oldString, useLongestToken) {\n  var componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        var value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function (value, i) {\n          var oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count; // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n\n      if (componentPos && components[componentPos - 1].added) {\n        var tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  } // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n\n\n  var lastComponent = components[componentLen - 1];\n\n  if (componentLen > 1 && typeof lastComponent.value === 'string' && (lastComponent.added || lastComponent.removed) && diff.equals('', lastComponent.value)) {\n    components[componentLen - 2].value += lastComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n\nfunction clonePath(path) {\n  return {\n    newPos: path.newPos,\n    components: path.components.slice(0)\n  };\n}\n\nvar characterDiff = new Diff();\nfunction diffChars(oldStr, newStr, options) {\n  return characterDiff.diff(oldStr, newStr, options);\n}\n\nfunction generateOptions(options, defaults) {\n  if (typeof options === 'function') {\n    defaults.callback = options;\n  } else if (options) {\n    for (var name in options) {\n      /* istanbul ignore else */\n      if (options.hasOwnProperty(name)) {\n        defaults[name] = options[name];\n      }\n    }\n  }\n\n  return defaults;\n}\n\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 008000FF\n//  - U+00D7   Multiplication sign\n//  - U+00F7   Division sign\n// Latin Extended-A, 0100017F\n// Latin Extended-B, 0180024F\n// IPA Extensions, 025002AF\n// Spacing Modifier Letters, 02B002FF\n//  - U+02C7   &#711;  Caron\n//  - U+02D8   &#728;  Breve\n//  - U+02D9   &#729;  Dot Above\n//  - U+02DA   &#730;  Ring Above\n//  - U+02DB   &#731;  Ogonek\n//  - U+02DC   &#732;  Small Tilde\n//  - U+02DD   &#733;  Double Acute Accent\n// Latin Extended Additional, 1E001EFF\n\nvar extendedWordChars = /^[A-Za-z\\xC0-\\u02C6\\u02C8-\\u02D7\\u02DE-\\u02FF\\u1E00-\\u1EFF]+$/;\nvar reWhitespace = /\\S/;\nvar wordDiff = new Diff();\n\nwordDiff.equals = function (left, right) {\n  if (this.options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n\n  return left === right || this.options.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right);\n};\n\nwordDiff.tokenize = function (value) {\n  var tokens = value.split(/(\\s+|[()[\\]{}'\"]|\\b)/); // Join the boundary splits that we do not consider to be boundaries. This is primarily the extended Latin character set.\n\n  for (var i = 0; i < tokens.length - 1; i++) {\n    // If we have an empty string in the next field and we have only word chars before and after, merge\n    if (!tokens[i + 1] && tokens[i + 2] && extendedWordChars.test(tokens[i]) && extendedWordChars.test(tokens[i + 2])) {\n      tokens[i] += tokens[i + 2];\n      tokens.splice(i + 1, 2);\n      i--;\n    }\n  }\n\n  return tokens;\n};\n\nfunction diffWords(oldStr, newStr, options) {\n  options = generateOptions(options, {\n    ignoreWhitespace: true\n  });\n  return wordDiff.diff(oldStr, newStr, options);\n}\nfunction diffWordsWithSpace(oldStr, newStr, options) {\n  return wordDiff.diff(oldStr, newStr, options);\n}\n\nvar lineDiff = new Diff();\n\nlineDiff.tokenize = function (value) {\n  var retLines = [],\n      linesAndNewlines = value.split(/(\\n|\\r\\n)/); // Ignore the final empty token that occurs if the string ends with a new line\n\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  } // Merge the content and line separators into single tokens\n\n\n  for (var i = 0; i < linesAndNewlines.length; i++) {\n    var line = linesAndNewlines[i];\n\n    if (i % 2 && !this.options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      if (this.options.ignoreWhitespace) {\n        line = line.trim();\n      }\n\n      retLines.push(line);\n    }\n  }\n\n  return retLines;\n};\n\nfunction diffLines(oldStr, newStr, callback) {\n  return lineDiff.diff(oldStr, newStr, callback);\n}\nfunction diffTrimmedLines(oldStr, newStr, callback) {\n  var options = generateOptions(callback, {\n    ignoreWhitespace: true\n  });\n  return lineDiff.diff(oldStr, newStr, options);\n}\n\nvar sentenceDiff = new Diff();\n\nsentenceDiff.tokenize = function (value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\n\nfunction diffSentences(oldStr, newStr, callback) {\n  return sentenceDiff.diff(oldStr, newStr, callback);\n}\n\nvar cssDiff = new Diff();\n\ncssDiff.tokenize = function (value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\n\nfunction diffCss(oldStr, newStr, callback) {\n  return cssDiff.diff(oldStr, newStr, callback);\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar objectPrototypeToString = Object.prototype.toString;\nvar jsonDiff = new Diff(); // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n\njsonDiff.useLongestToken = true;\njsonDiff.tokenize = lineDiff.tokenize;\n\njsonDiff.castInput = function (value) {\n  var _this$options = this.options,\n      undefinedReplacement = _this$options.undefinedReplacement,\n      _this$options$stringi = _this$options.stringifyReplacer,\n      stringifyReplacer = _this$options$stringi === void 0 ? function (k, v) {\n    return typeof v === 'undefined' ? undefinedReplacement : v;\n  } : _this$options$stringi;\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\n\njsonDiff.equals = function (left, right) {\n  return Diff.prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n};\n\nfunction diffJson(oldObj, newObj, options) {\n  return jsonDiff.diff(oldObj, newObj, options);\n} // This function handles the presence of circular references by bailing out when encountering an\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\n\nfunction canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n\n  var i;\n\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n\n  var canonicalizedObj;\n\n  if ('[object Array]' === objectPrototypeToString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n\n  if (_typeof(obj) === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n\n    var sortedKeys = [],\n        _key;\n\n    for (_key in obj) {\n      /* istanbul ignore else */\n      if (obj.hasOwnProperty(_key)) {\n        sortedKeys.push(_key);\n      }\n    }\n\n    sortedKeys.sort();\n\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      _key = sortedKeys[i];\n      canonicalizedObj[_key] = canonicalize(obj[_key], stack, replacementStack, replacer, _key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n\n  return canonicalizedObj;\n}\n\nvar arrayDiff = new Diff();\n\narrayDiff.tokenize = function (value) {\n  return value.slice();\n};\n\narrayDiff.join = arrayDiff.removeEmpty = function (value) {\n  return value;\n};\n\nfunction diffArrays(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nfunction parsePatch(uniDiff) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var diffstr = uniDiff.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = uniDiff.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      list = [],\n      i = 0;\n\n  function parseIndex() {\n    var index = {};\n    list.push(index); // Parse diff metadata\n\n    while (i < diffstr.length) {\n      var line = diffstr[i]; // File header found, end parsing diff metadata\n\n      if (/^(\\-\\-\\-|\\+\\+\\+|@@)\\s/.test(line)) {\n        break;\n      } // Diff index\n\n\n      var header = /^(?:Index:|diff(?: -r \\w+)+)\\s+(.+?)\\s*$/.exec(line);\n\n      if (header) {\n        index.index = header[1];\n      }\n\n      i++;\n    } // Parse file headers if they are defined. Unified diff requires them, but\n    // there's no technical issues to have an isolated hunk without file header\n\n\n    parseFileHeader(index);\n    parseFileHeader(index); // Parse hunks\n\n    index.hunks = [];\n\n    while (i < diffstr.length) {\n      var _line = diffstr[i];\n\n      if (/^(Index:|diff|\\-\\-\\-|\\+\\+\\+)\\s/.test(_line)) {\n        break;\n      } else if (/^@@/.test(_line)) {\n        index.hunks.push(parseHunk());\n      } else if (_line && options.strict) {\n        // Ignore unexpected content unless in strict mode\n        throw new Error('Unknown line ' + (i + 1) + ' ' + JSON.stringify(_line));\n      } else {\n        i++;\n      }\n    }\n  } // Parses the --- and +++ headers, if none are found, no lines\n  // are consumed.\n\n\n  function parseFileHeader(index) {\n    var fileHeader = /^(---|\\+\\+\\+)\\s+(.*)$/.exec(diffstr[i]);\n\n    if (fileHeader) {\n      var keyPrefix = fileHeader[1] === '---' ? 'old' : 'new';\n      var data = fileHeader[2].split('\\t', 2);\n      var fileName = data[0].replace(/\\\\\\\\/g, '\\\\');\n\n      if (/^\".*\"$/.test(fileName)) {\n        fileName = fileName.substr(1, fileName.length - 2);\n      }\n\n      index[keyPrefix + 'FileName'] = fileName;\n      index[keyPrefix + 'Header'] = (data[1] || '').trim();\n      i++;\n    }\n  } // Parses a hunk\n  // This assumes that we are at the start of a hunk.\n\n\n  function parseHunk() {\n    var chunkHeaderIndex = i,\n        chunkHeaderLine = diffstr[i++],\n        chunkHeader = chunkHeaderLine.split(/@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@/);\n    var hunk = {\n      oldStart: +chunkHeader[1],\n      oldLines: +chunkHeader[2] || 1,\n      newStart: +chunkHeader[3],\n      newLines: +chunkHeader[4] || 1,\n      lines: [],\n      linedelimiters: []\n    };\n    var addCount = 0,\n        removeCount = 0;\n\n    for (; i < diffstr.length; i++) {\n      // Lines starting with '---' could be mistaken for the \"remove line\" operation\n      // But they could be the header for the next file. Therefore prune such cases out.\n      if (diffstr[i].indexOf('--- ') === 0 && i + 2 < diffstr.length && diffstr[i + 1].indexOf('+++ ') === 0 && diffstr[i + 2].indexOf('@@') === 0) {\n        break;\n      }\n\n      var operation = diffstr[i].length == 0 && i != diffstr.length - 1 ? ' ' : diffstr[i][0];\n\n      if (operation === '+' || operation === '-' || operation === ' ' || operation === '\\\\') {\n        hunk.lines.push(diffstr[i]);\n        hunk.linedelimiters.push(delimiters[i] || '\\n');\n\n        if (operation === '+') {\n          addCount++;\n        } else if (operation === '-') {\n          removeCount++;\n        } else if (operation === ' ') {\n          addCount++;\n          removeCount++;\n        }\n      } else {\n        break;\n      }\n    } // Handle the empty block count case\n\n\n    if (!addCount && hunk.newLines === 1) {\n      hunk.newLines = 0;\n    }\n\n    if (!removeCount && hunk.oldLines === 1) {\n      hunk.oldLines = 0;\n    } // Perform optional sanity checking\n\n\n    if (options.strict) {\n      if (addCount !== hunk.newLines) {\n        throw new Error('Added line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n\n      if (removeCount !== hunk.oldLines) {\n        throw new Error('Removed line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n    }\n\n    return hunk;\n  }\n\n  while (i < diffstr.length) {\n    parseIndex();\n  }\n\n  return list;\n}\n\n// Iterator that traverses in the range of [min, max], stepping\n// by distance from a given start position. I.e. for [0, 4], with\n// start of 2, this will iterate 2, 3, 1, 4, 0.\nfunction distanceIterator (start, minLine, maxLine) {\n  var wantForward = true,\n      backwardExhausted = false,\n      forwardExhausted = false,\n      localOffset = 1;\n  return function iterator() {\n    if (wantForward && !forwardExhausted) {\n      if (backwardExhausted) {\n        localOffset++;\n      } else {\n        wantForward = false;\n      } // Check if trying to fit beyond text length, and if not, check it fits\n      // after offset location (or desired location on first iteration)\n\n\n      if (start + localOffset <= maxLine) {\n        return localOffset;\n      }\n\n      forwardExhausted = true;\n    }\n\n    if (!backwardExhausted) {\n      if (!forwardExhausted) {\n        wantForward = true;\n      } // Check if trying to fit before text beginning, and if not, check it fits\n      // before offset location\n\n\n      if (minLine <= start - localOffset) {\n        return -localOffset++;\n      }\n\n      backwardExhausted = true;\n      return iterator();\n    } // We tried to fit hunk before text beginning and beyond text length, then\n    // hunk can't fit on the text. Return undefined\n\n  };\n}\n\nfunction applyPatch(source, uniDiff) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  if (Array.isArray(uniDiff)) {\n    if (uniDiff.length > 1) {\n      throw new Error('applyPatch only works with a single input.');\n    }\n\n    uniDiff = uniDiff[0];\n  } // Apply the diff to the input\n\n\n  var lines = source.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = source.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      hunks = uniDiff.hunks,\n      compareLine = options.compareLine || function (lineNumber, line, operation, patchContent) {\n    return line === patchContent;\n  },\n      errorCount = 0,\n      fuzzFactor = options.fuzzFactor || 0,\n      minLine = 0,\n      offset = 0,\n      removeEOFNL,\n      addEOFNL;\n  /**\n   * Checks if the hunk exactly fits on the provided location\n   */\n\n\n  function hunkFits(hunk, toPos) {\n    for (var j = 0; j < hunk.lines.length; j++) {\n      var line = hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line;\n\n      if (operation === ' ' || operation === '-') {\n        // Context sanity check\n        if (!compareLine(toPos + 1, lines[toPos], operation, content)) {\n          errorCount++;\n\n          if (errorCount > fuzzFactor) {\n            return false;\n          }\n        }\n\n        toPos++;\n      }\n    }\n\n    return true;\n  } // Search best fit offsets for each hunk based on the previous ones\n\n\n  for (var i = 0; i < hunks.length; i++) {\n    var hunk = hunks[i],\n        maxLine = lines.length - hunk.oldLines,\n        localOffset = 0,\n        toPos = offset + hunk.oldStart - 1;\n    var iterator = distanceIterator(toPos, minLine, maxLine);\n\n    for (; localOffset !== undefined; localOffset = iterator()) {\n      if (hunkFits(hunk, toPos + localOffset)) {\n        hunk.offset = offset += localOffset;\n        break;\n      }\n    }\n\n    if (localOffset === undefined) {\n      return false;\n    } // Set lower text limit to end of the current hunk, so next ones don't try\n    // to fit over already patched text\n\n\n    minLine = hunk.offset + hunk.oldStart + hunk.oldLines;\n  } // Apply patch hunks\n\n\n  var diffOffset = 0;\n\n  for (var _i = 0; _i < hunks.length; _i++) {\n    var _hunk = hunks[_i],\n        _toPos = _hunk.oldStart + _hunk.offset + diffOffset - 1;\n\n    diffOffset += _hunk.newLines - _hunk.oldLines;\n\n    if (_toPos < 0) {\n      // Creating a new file\n      _toPos = 0;\n    }\n\n    for (var j = 0; j < _hunk.lines.length; j++) {\n      var line = _hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line,\n          delimiter = _hunk.linedelimiters[j];\n\n      if (operation === ' ') {\n        _toPos++;\n      } else if (operation === '-') {\n        lines.splice(_toPos, 1);\n        delimiters.splice(_toPos, 1);\n        /* istanbul ignore else */\n      } else if (operation === '+') {\n        lines.splice(_toPos, 0, content);\n        delimiters.splice(_toPos, 0, delimiter);\n        _toPos++;\n      } else if (operation === '\\\\') {\n        var previousOperation = _hunk.lines[j - 1] ? _hunk.lines[j - 1][0] : null;\n\n        if (previousOperation === '+') {\n          removeEOFNL = true;\n        } else if (previousOperation === '-') {\n          addEOFNL = true;\n        }\n      }\n    }\n  } // Handle EOFNL insertion/removal\n\n\n  if (removeEOFNL) {\n    while (!lines[lines.length - 1]) {\n      lines.pop();\n      delimiters.pop();\n    }\n  } else if (addEOFNL) {\n    lines.push('');\n    delimiters.push('\\n');\n  }\n\n  for (var _k = 0; _k < lines.length - 1; _k++) {\n    lines[_k] = lines[_k] + delimiters[_k];\n  }\n\n  return lines.join('');\n} // Wrapper that supports multiple file patches via callbacks.\n\nfunction applyPatches(uniDiff, options) {\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  var currentIndex = 0;\n\n  function processIndex() {\n    var index = uniDiff[currentIndex++];\n\n    if (!index) {\n      return options.complete();\n    }\n\n    options.loadFile(index, function (err, data) {\n      if (err) {\n        return options.complete(err);\n      }\n\n      var updatedContent = applyPatch(data, index, options);\n      options.patched(index, updatedContent, function (err) {\n        if (err) {\n          return options.complete(err);\n        }\n\n        processIndex();\n      });\n    });\n  }\n\n  processIndex();\n}\n\nfunction structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (typeof options.context === 'undefined') {\n    options.context = 4;\n  }\n\n  var diff = diffLines(oldStr, newStr, options);\n  diff.push({\n    value: '',\n    lines: []\n  }); // Append an empty value to make cleanup easier\n\n  function contextLines(lines) {\n    return lines.map(function (entry) {\n      return ' ' + entry;\n    });\n  }\n\n  var hunks = [];\n  var oldRangeStart = 0,\n      newRangeStart = 0,\n      curRange = [],\n      oldLine = 1,\n      newLine = 1;\n\n  var _loop = function _loop(i) {\n    var current = diff[i],\n        lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n    current.lines = lines;\n\n    if (current.added || current.removed) {\n      var _curRange;\n\n      // If we have previous context, start with that\n      if (!oldRangeStart) {\n        var prev = diff[i - 1];\n        oldRangeStart = oldLine;\n        newRangeStart = newLine;\n\n        if (prev) {\n          curRange = options.context > 0 ? contextLines(prev.lines.slice(-options.context)) : [];\n          oldRangeStart -= curRange.length;\n          newRangeStart -= curRange.length;\n        }\n      } // Output our changes\n\n\n      (_curRange = curRange).push.apply(_curRange, _toConsumableArray(lines.map(function (entry) {\n        return (current.added ? '+' : '-') + entry;\n      }))); // Track the updated file position\n\n\n      if (current.added) {\n        newLine += lines.length;\n      } else {\n        oldLine += lines.length;\n      }\n    } else {\n      // Identical context lines. Track line changes\n      if (oldRangeStart) {\n        // Close out any changes that have been output (or join overlapping)\n        if (lines.length <= options.context * 2 && i < diff.length - 2) {\n          var _curRange2;\n\n          // Overlapping\n          (_curRange2 = curRange).push.apply(_curRange2, _toConsumableArray(contextLines(lines)));\n        } else {\n          var _curRange3;\n\n          // end the range and output\n          var contextSize = Math.min(lines.length, options.context);\n\n          (_curRange3 = curRange).push.apply(_curRange3, _toConsumableArray(contextLines(lines.slice(0, contextSize))));\n\n          var hunk = {\n            oldStart: oldRangeStart,\n            oldLines: oldLine - oldRangeStart + contextSize,\n            newStart: newRangeStart,\n            newLines: newLine - newRangeStart + contextSize,\n            lines: curRange\n          };\n\n          if (i >= diff.length - 2 && lines.length <= options.context) {\n            // EOF is inside this hunk\n            var oldEOFNewline = /\\n$/.test(oldStr);\n            var newEOFNewline = /\\n$/.test(newStr);\n            var noNlBeforeAdds = lines.length == 0 && curRange.length > hunk.oldLines;\n\n            if (!oldEOFNewline && noNlBeforeAdds) {\n              // special case: old has no eol and no trailing context; no-nl can end up before adds\n              curRange.splice(hunk.oldLines, 0, '\\\\ No newline at end of file');\n            }\n\n            if (!oldEOFNewline && !noNlBeforeAdds || !newEOFNewline) {\n              curRange.push('\\\\ No newline at end of file');\n            }\n          }\n\n          hunks.push(hunk);\n          oldRangeStart = 0;\n          newRangeStart = 0;\n          curRange = [];\n        }\n      }\n\n      oldLine += lines.length;\n      newLine += lines.length;\n    }\n  };\n\n  for (var i = 0; i < diff.length; i++) {\n    _loop(i);\n  }\n\n  return {\n    oldFileName: oldFileName,\n    newFileName: newFileName,\n    oldHeader: oldHeader,\n    newHeader: newHeader,\n    hunks: hunks\n  };\n}\nfunction createTwoFilesPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  var diff = structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options);\n  var ret = [];\n\n  if (oldFileName == newFileName) {\n    ret.push('Index: ' + oldFileName);\n  }\n\n  ret.push('===================================================================');\n  ret.push('--- ' + diff.oldFileName + (typeof diff.oldHeader === 'undefined' ? '' : '\\t' + diff.oldHeader));\n  ret.push('+++ ' + diff.newFileName + (typeof diff.newHeader === 'undefined' ? '' : '\\t' + diff.newHeader));\n\n  for (var i = 0; i < diff.hunks.length; i++) {\n    var hunk = diff.hunks[i];\n    ret.push('@@ -' + hunk.oldStart + ',' + hunk.oldLines + ' +' + hunk.newStart + ',' + hunk.newLines + ' @@');\n    ret.push.apply(ret, hunk.lines);\n  }\n\n  return ret.join('\\n') + '\\n';\n}\nfunction createPatch(fileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader, options);\n}\n\nfunction arrayEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  return arrayStartsWith(a, b);\n}\nfunction arrayStartsWith(array, start) {\n  if (start.length > array.length) {\n    return false;\n  }\n\n  for (var i = 0; i < start.length; i++) {\n    if (start[i] !== array[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction calcLineCount(hunk) {\n  var _calcOldNewLineCount = calcOldNewLineCount(hunk.lines),\n      oldLines = _calcOldNewLineCount.oldLines,\n      newLines = _calcOldNewLineCount.newLines;\n\n  if (oldLines !== undefined) {\n    hunk.oldLines = oldLines;\n  } else {\n    delete hunk.oldLines;\n  }\n\n  if (newLines !== undefined) {\n    hunk.newLines = newLines;\n  } else {\n    delete hunk.newLines;\n  }\n}\nfunction merge(mine, theirs, base) {\n  mine = loadPatch(mine, base);\n  theirs = loadPatch(theirs, base);\n  var ret = {}; // For index we just let it pass through as it doesn't have any necessary meaning.\n  // Leaving sanity checks on this to the API consumer that may know more about the\n  // meaning in their own context.\n\n  if (mine.index || theirs.index) {\n    ret.index = mine.index || theirs.index;\n  }\n\n  if (mine.newFileName || theirs.newFileName) {\n    if (!fileNameChanged(mine)) {\n      // No header or no change in ours, use theirs (and ours if theirs does not exist)\n      ret.oldFileName = theirs.oldFileName || mine.oldFileName;\n      ret.newFileName = theirs.newFileName || mine.newFileName;\n      ret.oldHeader = theirs.oldHeader || mine.oldHeader;\n      ret.newHeader = theirs.newHeader || mine.newHeader;\n    } else if (!fileNameChanged(theirs)) {\n      // No header or no change in theirs, use ours\n      ret.oldFileName = mine.oldFileName;\n      ret.newFileName = mine.newFileName;\n      ret.oldHeader = mine.oldHeader;\n      ret.newHeader = mine.newHeader;\n    } else {\n      // Both changed... figure it out\n      ret.oldFileName = selectField(ret, mine.oldFileName, theirs.oldFileName);\n      ret.newFileName = selectField(ret, mine.newFileName, theirs.newFileName);\n      ret.oldHeader = selectField(ret, mine.oldHeader, theirs.oldHeader);\n      ret.newHeader = selectField(ret, mine.newHeader, theirs.newHeader);\n    }\n  }\n\n  ret.hunks = [];\n  var mineIndex = 0,\n      theirsIndex = 0,\n      mineOffset = 0,\n      theirsOffset = 0;\n\n  while (mineIndex < mine.hunks.length || theirsIndex < theirs.hunks.length) {\n    var mineCurrent = mine.hunks[mineIndex] || {\n      oldStart: Infinity\n    },\n        theirsCurrent = theirs.hunks[theirsIndex] || {\n      oldStart: Infinity\n    };\n\n    if (hunkBefore(mineCurrent, theirsCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(mineCurrent, mineOffset));\n      mineIndex++;\n      theirsOffset += mineCurrent.newLines - mineCurrent.oldLines;\n    } else if (hunkBefore(theirsCurrent, mineCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(theirsCurrent, theirsOffset));\n      theirsIndex++;\n      mineOffset += theirsCurrent.newLines - theirsCurrent.oldLines;\n    } else {\n      // Overlap, merge as best we can\n      var mergedHunk = {\n        oldStart: Math.min(mineCurrent.oldStart, theirsCurrent.oldStart),\n        oldLines: 0,\n        newStart: Math.min(mineCurrent.newStart + mineOffset, theirsCurrent.oldStart + theirsOffset),\n        newLines: 0,\n        lines: []\n      };\n      mergeLines(mergedHunk, mineCurrent.oldStart, mineCurrent.lines, theirsCurrent.oldStart, theirsCurrent.lines);\n      theirsIndex++;\n      mineIndex++;\n      ret.hunks.push(mergedHunk);\n    }\n  }\n\n  return ret;\n}\n\nfunction loadPatch(param, base) {\n  if (typeof param === 'string') {\n    if (/^@@/m.test(param) || /^Index:/m.test(param)) {\n      return parsePatch(param)[0];\n    }\n\n    if (!base) {\n      throw new Error('Must provide a base reference or pass in a patch');\n    }\n\n    return structuredPatch(undefined, undefined, base, param);\n  }\n\n  return param;\n}\n\nfunction fileNameChanged(patch) {\n  return patch.newFileName && patch.newFileName !== patch.oldFileName;\n}\n\nfunction selectField(index, mine, theirs) {\n  if (mine === theirs) {\n    return mine;\n  } else {\n    index.conflict = true;\n    return {\n      mine: mine,\n      theirs: theirs\n    };\n  }\n}\n\nfunction hunkBefore(test, check) {\n  return test.oldStart < check.oldStart && test.oldStart + test.oldLines < check.oldStart;\n}\n\nfunction cloneHunk(hunk, offset) {\n  return {\n    oldStart: hunk.oldStart,\n    oldLines: hunk.oldLines,\n    newStart: hunk.newStart + offset,\n    newLines: hunk.newLines,\n    lines: hunk.lines\n  };\n}\n\nfunction mergeLines(hunk, mineOffset, mineLines, theirOffset, theirLines) {\n  // This will generally result in a conflicted hunk, but there are cases where the context\n  // is the only overlap where we can successfully merge the content here.\n  var mine = {\n    offset: mineOffset,\n    lines: mineLines,\n    index: 0\n  },\n      their = {\n    offset: theirOffset,\n    lines: theirLines,\n    index: 0\n  }; // Handle any leading content\n\n  insertLeading(hunk, mine, their);\n  insertLeading(hunk, their, mine); // Now in the overlap content. Scan through and select the best changes from each.\n\n  while (mine.index < mine.lines.length && their.index < their.lines.length) {\n    var mineCurrent = mine.lines[mine.index],\n        theirCurrent = their.lines[their.index];\n\n    if ((mineCurrent[0] === '-' || mineCurrent[0] === '+') && (theirCurrent[0] === '-' || theirCurrent[0] === '+')) {\n      // Both modified ...\n      mutualChange(hunk, mine, their);\n    } else if (mineCurrent[0] === '+' && theirCurrent[0] === ' ') {\n      var _hunk$lines;\n\n      // Mine inserted\n      (_hunk$lines = hunk.lines).push.apply(_hunk$lines, _toConsumableArray(collectChange(mine)));\n    } else if (theirCurrent[0] === '+' && mineCurrent[0] === ' ') {\n      var _hunk$lines2;\n\n      // Theirs inserted\n      (_hunk$lines2 = hunk.lines).push.apply(_hunk$lines2, _toConsumableArray(collectChange(their)));\n    } else if (mineCurrent[0] === '-' && theirCurrent[0] === ' ') {\n      // Mine removed or edited\n      removal(hunk, mine, their);\n    } else if (theirCurrent[0] === '-' && mineCurrent[0] === ' ') {\n      // Their removed or edited\n      removal(hunk, their, mine, true);\n    } else if (mineCurrent === theirCurrent) {\n      // Context identity\n      hunk.lines.push(mineCurrent);\n      mine.index++;\n      their.index++;\n    } else {\n      // Context mismatch\n      conflict(hunk, collectChange(mine), collectChange(their));\n    }\n  } // Now push anything that may be remaining\n\n\n  insertTrailing(hunk, mine);\n  insertTrailing(hunk, their);\n  calcLineCount(hunk);\n}\n\nfunction mutualChange(hunk, mine, their) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectChange(their);\n\n  if (allRemoves(myChanges) && allRemoves(theirChanges)) {\n    // Special case for remove changes that are supersets of one another\n    if (arrayStartsWith(myChanges, theirChanges) && skipRemoveSuperset(their, myChanges, myChanges.length - theirChanges.length)) {\n      var _hunk$lines3;\n\n      (_hunk$lines3 = hunk.lines).push.apply(_hunk$lines3, _toConsumableArray(myChanges));\n\n      return;\n    } else if (arrayStartsWith(theirChanges, myChanges) && skipRemoveSuperset(mine, theirChanges, theirChanges.length - myChanges.length)) {\n      var _hunk$lines4;\n\n      (_hunk$lines4 = hunk.lines).push.apply(_hunk$lines4, _toConsumableArray(theirChanges));\n\n      return;\n    }\n  } else if (arrayEqual(myChanges, theirChanges)) {\n    var _hunk$lines5;\n\n    (_hunk$lines5 = hunk.lines).push.apply(_hunk$lines5, _toConsumableArray(myChanges));\n\n    return;\n  }\n\n  conflict(hunk, myChanges, theirChanges);\n}\n\nfunction removal(hunk, mine, their, swap) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectContext(their, myChanges);\n\n  if (theirChanges.merged) {\n    var _hunk$lines6;\n\n    (_hunk$lines6 = hunk.lines).push.apply(_hunk$lines6, _toConsumableArray(theirChanges.merged));\n  } else {\n    conflict(hunk, swap ? theirChanges : myChanges, swap ? myChanges : theirChanges);\n  }\n}\n\nfunction conflict(hunk, mine, their) {\n  hunk.conflict = true;\n  hunk.lines.push({\n    conflict: true,\n    mine: mine,\n    theirs: their\n  });\n}\n\nfunction insertLeading(hunk, insert, their) {\n  while (insert.offset < their.offset && insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n    insert.offset++;\n  }\n}\n\nfunction insertTrailing(hunk, insert) {\n  while (insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n  }\n}\n\nfunction collectChange(state) {\n  var ret = [],\n      operation = state.lines[state.index][0];\n\n  while (state.index < state.lines.length) {\n    var line = state.lines[state.index]; // Group additions that are immediately after subtractions and treat them as one \"atomic\" modify change.\n\n    if (operation === '-' && line[0] === '+') {\n      operation = '+';\n    }\n\n    if (operation === line[0]) {\n      ret.push(line);\n      state.index++;\n    } else {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nfunction collectContext(state, matchChanges) {\n  var changes = [],\n      merged = [],\n      matchIndex = 0,\n      contextChanges = false,\n      conflicted = false;\n\n  while (matchIndex < matchChanges.length && state.index < state.lines.length) {\n    var change = state.lines[state.index],\n        match = matchChanges[matchIndex]; // Once we've hit our add, then we are done\n\n    if (match[0] === '+') {\n      break;\n    }\n\n    contextChanges = contextChanges || change[0] !== ' ';\n    merged.push(match);\n    matchIndex++; // Consume any additions in the other block as a conflict to attempt\n    // to pull in the remaining context after this\n\n    if (change[0] === '+') {\n      conflicted = true;\n\n      while (change[0] === '+') {\n        changes.push(change);\n        change = state.lines[++state.index];\n      }\n    }\n\n    if (match.substr(1) === change.substr(1)) {\n      changes.push(change);\n      state.index++;\n    } else {\n      conflicted = true;\n    }\n  }\n\n  if ((matchChanges[matchIndex] || '')[0] === '+' && contextChanges) {\n    conflicted = true;\n  }\n\n  if (conflicted) {\n    return changes;\n  }\n\n  while (matchIndex < matchChanges.length) {\n    merged.push(matchChanges[matchIndex++]);\n  }\n\n  return {\n    merged: merged,\n    changes: changes\n  };\n}\n\nfunction allRemoves(changes) {\n  return changes.reduce(function (prev, change) {\n    return prev && change[0] === '-';\n  }, true);\n}\n\nfunction skipRemoveSuperset(state, removeChanges, delta) {\n  for (var i = 0; i < delta; i++) {\n    var changeContent = removeChanges[removeChanges.length - delta + i].substr(1);\n\n    if (state.lines[state.index + i] !== ' ' + changeContent) {\n      return false;\n    }\n  }\n\n  state.index += delta;\n  return true;\n}\n\nfunction calcOldNewLineCount(lines) {\n  var oldLines = 0;\n  var newLines = 0;\n  lines.forEach(function (line) {\n    if (typeof line !== 'string') {\n      var myCount = calcOldNewLineCount(line.mine);\n      var theirCount = calcOldNewLineCount(line.theirs);\n\n      if (oldLines !== undefined) {\n        if (myCount.oldLines === theirCount.oldLines) {\n          oldLines += myCount.oldLines;\n        } else {\n          oldLines = undefined;\n        }\n      }\n\n      if (newLines !== undefined) {\n        if (myCount.newLines === theirCount.newLines) {\n          newLines += myCount.newLines;\n        } else {\n          newLines = undefined;\n        }\n      }\n    } else {\n      if (newLines !== undefined && (line[0] === '+' || line[0] === ' ')) {\n        newLines++;\n      }\n\n      if (oldLines !== undefined && (line[0] === '-' || line[0] === ' ')) {\n        oldLines++;\n      }\n    }\n  });\n  return {\n    oldLines: oldLines,\n    newLines: newLines\n  };\n}\n\n// See: http://code.google.com/p/google-diff-match-patch/wiki/API\nfunction convertChangesToDMP(changes) {\n  var ret = [],\n      change,\n      operation;\n\n  for (var i = 0; i < changes.length; i++) {\n    change = changes[i];\n\n    if (change.added) {\n      operation = 1;\n    } else if (change.removed) {\n      operation = -1;\n    } else {\n      operation = 0;\n    }\n\n    ret.push([operation, change.value]);\n  }\n\n  return ret;\n}\n\nfunction convertChangesToXML(changes) {\n  var ret = [];\n\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n\n    ret.push(escapeHTML(change.value));\n\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n\n  return ret.join('');\n}\n\nfunction escapeHTML(s) {\n  var n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n  return n;\n}\n\n/* See LICENSE file for terms of use */\n\nexport { Diff, diffChars, diffWords, diffWordsWithSpace, diffLines, diffTrimmedLines, diffSentences, diffCss, diffJson, diffArrays, structuredPatch, createTwoFilesPatch, createPatch, applyPatch, applyPatches, parsePatch, merge, convertChangesToDMP, convertChangesToXML, canonicalize };\n","const synth=window.speechSynthesis\nlet voice=null\nfunction parseVoices(){\n  voice=synth.getVoices()\n    .filter(v=>v.lang.startsWith('ru'))[0]\n}\nparseVoices()\nsynth.addEventListener('voiceschanged',parseVoices)\n\nexport function sayInRussian(toText) {\n  if(!voice) return\n  const utterance=new SpeechSynthesisUtterance(toText)\n  console.log(voice)\n  utterance.voice=voice\n\n  synth.speak(utterance)\n}","import {Component} from \"preact\";\nimport {addWordToList, getWordList} from \"../services/trainer\";\nimport {sayInRussian} from \"../services/say\";\nimport {sameish} from \"../services/sameish\";\n\nexport class Add extends Component{\n  state={\n    from:'',\n    to:'',\n    comment:'',\n    list:[]\n  }\n  componentDidMount() {\n    this.clearListener=getWordList(list=>this.setState({list:list.reverse()}))\n  }\n  componentWillUnmount() {\n    this.clearListener()\n  }\n\n  onSubmit=e=>{\n    e.preventDefault()\n    if(this.problem()) return alert(this.problem())\n    addWordToList(this.state)\n    sayInRussian(this.state.to)\n    this.setState({\n      from:'',\n      to:'',\n      comment:''\n    })\n  }\n  problem=()=>{\n    const {from,to,list} = this.state;\n\n    if(!from || !to) return 'Please write a word and its translation'\n    if(sameish(from,to)) return  'Both words are the same ! '\n    if(list.filter(w=>sameish(from, w.from) || sameish(to, w.to)).length){\n      return 'Word already in your list'\n    }\n  }\n  backToEdit=e=>{\n    e.preventDefault()\n    this.props.go('edit')\n  }\n  render(props, {from,to,comment, list}){\n    return <div>\n      <button onClick={this.backToEdit}> wordlist ({list.length} words)</button>\n    <form onSubmit={this.onSubmit} className={'add-word'}>\n      <h1>Add a word</h1>\n      <label htmlFor={'enterEnglish'}>English word</label>\n      <input id={\"enterEnglish\"} type={'text'} placeholder={'English'} value={from} onKeyUp={e=>this.setState({from:e.target.value})}/>\n      <label htmlFor={'enterRussian'}>Russian translation to learn</label>\n      <input id=\"enterRussian\" type={'text'} placeholder={'Russian'} value={to} onKeyUp={e=>this.setState({to:e.target.value})}/>\n\n      <button className={'primary float-bottom'} id={'submitWord'}>Add</button>\n    </form></div>\n  }\n}","import { h, Component } from 'preact';\n\nexport function Table({data, columns}) {\n  return <table className={'mw-table'}>\n    <thead>\n      <tr>\n      {columns.map(c=><th>{c.name}</th>)}\n      </tr>\n    </thead>\n    <tbody>\n    {data.map(row=>\n      <tr>\n        {columns.map(c=>\n          <td>{c.value(row)}</td>\n        )}\n      </tr>\n    )}\n    </tbody>\n  </table>\n}","import { h, Component } from 'preact';\nconst jsdiff =require('diff') ;\n\nexport function ShowDiff({answer, to}) {\n\n  return <span>\n    {\n      jsdiff\n        .diffChars(answer, to, {ignoreCase: true})\n        .map(({added, removed, value})=>\n        (added && <ins>{value}</ins>) || (removed && <del>{value}</del>) || <span>{value}</span> )\n    }\n  </span>\n}","import { h, Component } from 'preact';\nimport {addWordToList, getWordList} from \"../services/trainer\";\nimport {sameish} from \"../services/sameish\";\nimport {sayInRussian} from \"../services/say\";\nimport {Table} from \"./table\";\nexport class Edit extends Component{\n  state={\n    list:null\n  }\n  componentDidMount() {\n    this.clearListener=getWordList(list=>this.setState({list:list.reverse()}))\n  }\n  componentWillUnmount() {\n    this.clearListener()\n  }\n  goToTraining=e=>{\n    e.preventDefault()\n    this.props.go('train')\n  }\n  goToAdd=e=>{\n    e.preventDefault()\n    this.props.go('add')\n  }\n  render(props, {list}) {\n    if(!list) return 'loading'\n    return <div>\n\n      <h1>My {list.length} words\n        <button className={'primary inline'} onClick={this.goToAdd}>Add</button>\n      </h1>\n      <Table data={list} columns={[\n        {name:'English', value:l=>l.from},\n        {name:'Russian', value:l=>l.to},\n      ]}/>\n      <button className={'float-bottom primary'} onClick={this.goToTraining}>Start learning </button>\n    </div>\n  }\n}\n","import { h, Component } from 'preact';\nimport {getNextWordToTrain, registerResult} from \"../services/trainer\";\nimport {sameish} from \"../services/sameish\";\nimport {sayInRussian} from \"../services/say\";\nimport {ShowDiff} from \"./diff\";\nexport class Train extends Component{\n  state={\n  }\n  setNewWord(word){\n    this.setState({\n      word,\n      mode:'ask',\n      answer:''\n    })\n  }\n  componentDidMount() {\n    this.setNewWord( getNextWordToTrain() )\n  }\n  onSubmitAnswer = e=>{\n    e.preventDefault()\n    const {word, answer} = this.state;\n    sayInRussian(word.to)\n    if(sameish(word.to,answer)){\n      this.setState({\n        mode:'correct'\n      })\n    }else{\n      this.setState({\n        mode:'incorrect'\n      })\n    }\n  }\n  validateSuccess=e=>{\n    e.preventDefault()\n    const {word} = this.state;\n    this.setNewWord( registerResult({id:word.id,  guessed:true}) )\n  }\n  validateFailure=e=>{\n    e.preventDefault()\n    const {word} = this.state;\n    this.setNewWord( registerResult({id:word.id,  guessed:false}) )\n  }\n  setAnswer=e=>{\n    this.setState({answer:e.target.value})\n  }\n  renderByMode(){\n    const {word,answer,mode} = this.state;\n    if(!word) return 'loading'\n    if(mode==='correct'){\n      return <Bravo confirm={this.validateSuccess}/>\n    }if(mode==='incorrect'){\n      return <Nope answer={answer} word={word} confirm={this.validateFailure}/>\n    }\n    return <Ask word={word} answer={answer} setAnswer={this.setAnswer}\n      onSubmitAnswer={this.onSubmitAnswer}/>\n  }\n  backToEdit=e=>{\n    e.preventDefault()\n    this.props.go('edit')\n  }\n  render({go}) {\n    return <div>\n      <button onClick={this.backToEdit}> wordlist</button>\n      {this.renderByMode()}\n    </div>\n  }\n}\n\nclass Ask extends Component {\n  componentDidMount() {\n    this.input.focus()\n  }\n  render() {\n    let {word, answer, setAnswer, onSubmitAnswer} = this.props;\n    return <div>\n\n      <h1 className={'centered'}> How do you say\n      <strong>{word.from}</strong>\n      in russian ?</h1>\n      <form onSubmit={onSubmitAnswer}>\n        <label>Please type the russian word below</label>\n        <input type=\"text\"\n               ref={n=>this.input=n}\n               value={answer}\n               onKeyUp={setAnswer}\n        />\n        <button className={'primary float-bottom'} type=\"submit\">\n          {answer ? 'Check' : 'I don\\'t know'}\n        </button>\n      </form>\n    </div>\n  }\n}\n\nclass Bravo extends Component{\n  componentDidMount() {\n    this.input.focus()\n  }\n  render({confirm}) {\n    return <div>\n      <h1 className={'centered'}>Correct ! </h1>\n      <button  className={'primary float-bottom'} ref={n=>this.input=n}  onClick={confirm}>Next word</button>\n    </div>\n  }\n}\n\nclass Nope extends Component{\n  componentDidMount() {\n    this.input.focus()\n  }\n  state={check:''}\n  isCorrect(){\n    return sameish(this.state.check,this.props.word.to)\n  }\n  checkCorrectAnswerGiven=e=>{\n    e.preventDefault()\n    if(this.isCorrect()){\n      this.props.confirm(e)\n    }\n  }\n  render({answer, word, confirm}, {check}) {\n    return (\n      <form onSubmit={this.checkCorrectAnswerGiven}>\n\n        {answer && <p>Sorry, there was a mistake : <ShowDiff answer={answer} to={word.to}/></p>}\n\n        <h1 className={'centered'}>{word.from}  is\n          <strong>{word.to}</strong> in russian </h1>\n\n        <label>Please type the correct answer below</label>\n        <input  type=\"text\" ref={n=>this.input=n} value={check} placeholder={word.to} onKeyUp={e=>this.setState({check:e.target.value})}/>\n        <button  className={'primary float-bottom'} disabled={!this.isCorrect()}>Next word</button>\n      </form>\n    );\n  }\n}\n","import './style';\nimport App from './components/app';\n\nexport default App;\n","import { h, Component } from 'preact';\nimport {Edit} from \"./edit\";\nimport {Train} from \"./train\";\nimport {Add} from \"./add\";\n\n\n\nexport default class App extends Component {\n  state={\n    page:'train'\n  }\n  go=page=>{\n    this.setState({page})\n  }\n  page(){\n    switch (this.state.page) {\n      case \"edit\":\n        return Edit;\n      case \"train\":\n        return Train;\n      case \"add\":\n        return Add;\n\n    }\n\n  }\n\trender() {\n\t\tconst Page=this.page()\n    return (\n\t\t\t<div id=\"app\">\n        <Page go={this.go}/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","// TODO store version of db\nimport {defaultWords} from \"./defaultWords\";\n\nlet wordlist=[]\n\nconst defaultList=defaultWords.map(({from,to}, id)=>({from,to,id}))\ntry{\n  wordlist=JSON.parse(localStorage.getItem('wordlist')) || defaultList\n}catch (e) {\n  console.debug(e,'No saved word list')\n  wordlist=defaultList\n}\n\nlet trainingData = [\n  {\n    time:new Date(),\n    id:0,\n    guessed:false\n  }\n]\n\nlet  listeners=[]\nexport function getWordList(cb) {\n  cb(wordlist)\n  listeners.push(cb)\n  return function clear() {\n    listeners=listeners.filter(_cb=>_cb!==cb)\n  }\n}\n\nfunction listChanged() {\n  listeners.forEach(cb=>cb(wordlist))\n  localStorage.setItem('wordlist',JSON.stringify(wordlist))\n}\nexport function addWordToList({from,to }) {\n  wordlist.push({\n    from,\n    to,\n    id: Math.max(0,...wordlist.map(w=>w.id))\n      +1\n  })\n  listChanged()\n}\n\nexport function getNextWordToTrain() {\n  const index=trainingData.length%wordlist.length\n  return  wordlist[index]\n}\n\nexport function registerResult({id, guessed}) {\n  trainingData.push({\n    time:new Date(),\n    id,\n    guessed\n  })\n  return  getNextWordToTrain()\n}\n\n","export const defaultWords=[\n  {\n    \"to\": \"\",\n    \"from\": \"easy\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"tap\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"letter (character)\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"postcard\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"event\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"cup\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"vowels\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"consonants\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"fish\",\n  },\n  {\n    \"to\": \" ?\",\n    \"from\": \"Are you hungry? (formal)\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"to draw\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"art\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"dormitory\",\n  },\n  {\n    \"to\": \"  \",\n    \"from\": \"this is difficult to read\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"leg\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"cupboard\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"mistake\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"difficult\",\n  },\n  {\n    \"to\": \"  \",\n    \"from\": \"write on the blackboard\",\n  },\n  {\n    \"to\": \" ?\",\n    \"from\": \"Are you cold? (informal)\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"brother\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"japan\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"apartment\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"paper\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"bridge\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"umbrella\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"sound\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"cake\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"stamp\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"hand, arm\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"lesson\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"shelf\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"lamp\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"eye\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"window\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"question\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"blackboard\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"friend (female)\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"road\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"pencil\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"shirt\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"hat\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"scarf\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"direction\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"today\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"cheese\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"map\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"country\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"friend\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"chair\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"table\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"spoon\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"to see\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"watch\",\n  },\n  {\n    \"to\": \"\",\n    \"from\": \"water\",\n  }\n]","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\ti;\n\tfor (i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type === 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(\n\t\ttype,\n\t\tnormalizedProps,\n\t\tprops && props.key,\n\t\tprops && props.ref\n\t);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined\n\t};\n\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\tupdate = update(s, this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type === 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tlet newDom = diff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\tassign({}, vnode),\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tnull,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty && (c._dirty = true) && rerenderQueue.push(c) === 1) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort((a, b) => b._vnode._depth - a._vnode._depth);\n\twhile ((c = rerenderQueue.pop())) {\n\t\t// forceUpdate's callback argument is reused here to indicate a non-forced update.\n\t\tif (c._dirty) renderComponent(c);\n\t}\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t} else if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t} else {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\ti = 0;\n\tnewParentVNode._children = toChildArray(\n\t\tnewParentVNode._children,\n\t\tchildVNode => {\n\t\t\tif (childVNode != null) {\n\t\t\t\tchildVNode._parent = newParentVNode;\n\t\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t\t// (holes).\n\t\t\t\toldVNode = oldChildren[i];\n\n\t\t\t\tif (\n\t\t\t\t\toldVNode === null ||\n\t\t\t\t\t(oldVNode &&\n\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t\t\t) {\n\t\t\t\t\toldChildren[i] = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\toldVNode &&\n\t\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\toldVNode = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\t\tnewDom = diff(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\tglobalContext,\n\t\t\t\t\tisSvg,\n\t\t\t\t\texcessDomChildren,\n\t\t\t\t\tcommitQueue,\n\t\t\t\t\toldDom,\n\t\t\t\t\tisHydrating\n\t\t\t\t);\n\n\t\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t\tif (!refs) refs = [];\n\t\t\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t\t\t}\n\n\t\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\t\tif (newDom != null) {\n\t\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nextDom;\n\t\t\t\t\tif (childVNode._nextDom !== undefined) {\n\t\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\t\t\tnextDom = childVNode._nextDom;\n\n\t\t\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t\t\t// can clean up the property\n\t\t\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\texcessDomChildren == oldVNode ||\n\t\t\t\t\t\tnewDom != oldDom ||\n\t\t\t\t\t\tnewDom.parentNode == null\n\t\t\t\t\t) {\n\t\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t\t\tnextDom = null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\tsibDom = oldDom, j = 0;\n\t\t\t\t\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildrenLength;\n\t\t\t\t\t\t\t\tj += 2\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t\t\tnextDom = oldDom;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t\t\t// updated properly.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\t\t\tparentDom.value = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t\t\t\t\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t\t\t\t\t// See more detail in create-element.js:createVNode\n\t\t\t\t\tif (nextDom !== undefined) {\n\t\t\t\t\t\toldDom = nextDom;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t\t\t// node's nextSibling.\n\n\t\t\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\toldDom &&\n\t\t\t\t\toldVNode._dom == oldDom &&\n\t\t\t\t\toldDom.parentNode != parentDom\n\t\t\t\t) {\n\t\t\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti++;\n\t\t\treturn childVNode;\n\t\t}\n\t);\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren != null && typeof newParentVNode.type !== 'function') {\n\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) unmount(oldChildren[i], oldChildren[i]);\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {(vnode: import('../internal').VNode) => import('../internal').VNode} [callback]\n * A function to invoke for each child before it is added to the flattened list.\n * @param {Array<import('../internal').VNode | string | number>} [flattened] An flat array of children to modify\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, callback, flattened) {\n\tif (flattened == null) flattened = [];\n\n\tif (children == null || typeof children === 'boolean') {\n\t\tif (callback) flattened.push(callback(null));\n\t} else if (Array.isArray(children)) {\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], callback, flattened);\n\t\t}\n\t} else if (!callback) {\n\t\tflattened.push(children);\n\t} else if (typeof children === 'string' || typeof children === 'number') {\n\t\tflattened.push(callback(createVNode(null, children, null, null)));\n\t} else if (children._dom != null || children._component != null) {\n\t\tflattened.push(\n\t\t\tcallback(createVNode(children.type, children.props, children.key, null))\n\t\t);\n\t} else {\n\t\tflattened.push(callback(children));\n\t}\n\n\treturn flattened;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (!(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (\n\t\ttypeof value === 'number' &&\n\t\tIS_NON_DIMENSIONAL.test(key) === false\n\t) {\n\t\tstyle[key] = value + 'px';\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else {\n\t\tstyle[key] = value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nfunction setProperty(dom, name, value, oldValue, isSvg) {\n\tif (isSvg) {\n\t\tif (name === 'className') {\n\t\t\tname = 'class';\n\t\t}\n\t} else if (name === 'class') {\n\t\tname = 'className';\n\t}\n\n\tif (name === 'key' || name === 'children') {\n\t} else if (name === 'style') {\n\t\tconst s = dom.style;\n\n\t\tif (typeof value === 'string') {\n\t\t\ts.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue === 'string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (let i in oldValue) {\n\t\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (let i in value) {\n\t\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tlet useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tlet nameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t} else {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t} else if (\n\t\tname !== 'list' &&\n\t\tname !== 'tagName' &&\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\tname !== 'form' &&\n\t\tname !== 'type' &&\n\t\tname !== 'size' &&\n\t\t!isSvg &&\n\t\tname in dom\n\t) {\n\t\tdom[name] = value == null ? '' : value;\n\t} else if (\n\t\ttypeof value !== 'function' &&\n\t\tname !== 'dangerouslySetInnerHTML'\n\t) {\n\t\tif (name !== (name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value == null || value === false) {\n\t\t\t\tdom.removeAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdom.setAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase(),\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (\n\t\t\tvalue == null ||\n\t\t\t(value === false &&\n\t\t\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t\t\t// The value `false` is different from the attribute not\n\t\t\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t\t\t// that other VDOM frameworks also always stringify `false`.\n\t\t\t\t!/^ar/.test(name))\n\t\t) {\n\t\t\tdom.removeAttribute(name);\n\t\t} else {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType === 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!c._force &&\n\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\tc.shouldComponentUpdate(newProps, c._nextState, componentContext) ===\n\t\t\t\t\t\tfalse\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) {\n\t\t\t\t\t\t\tnewVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tnewVNode._children = isTopLevelFragment\n\t\t\t\t? tmp.props.children\n\t\t\t\t: Array.isArray(tmp)\n\t\t\t\t? tmp\n\t\t\t\t: [tmp];\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type === 'svg' || isSvg;\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild != null &&\n\t\t\t\t((newVNode.type === null\n\t\t\t\t\t? child.nodeType === 3\n\t\t\t\t\t: child.localName === newVNode.type) ||\n\t\t\t\t\tdom == child)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (newVNode.type === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = isSvg\n\t\t\t? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type)\n\t\t\t: document.createElement(\n\t\t\t\t\tnewVNode.type,\n\t\t\t\t\tnewProps.is && { is: newProps.is }\n\t\t\t  );\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t}\n\n\tif (newVNode.type === null) {\n\t\tif (oldProps !== newProps && dom.data != newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else if (newVNode !== oldVNode) {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\tif (oldProps === EMPTY_OBJ) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html != oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\tnewVNode._children = newVNode.props.children;\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (!newHtml) {\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnewVNode.type === 'foreignObject' ? false : isSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tEMPTY_OBJ,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\tnewProps.value !== undefined &&\n\t\t\t\tnewProps.value !== dom.value\n\t\t\t) {\n\t\t\t\tdom.value = newProps.value == null ? '' : newProps.value;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\tnewProps.checked !== undefined &&\n\t\t\t\tnewProps.checked !== dom.checked\n\t\t\t) {\n\t\t\t\tdom.checked = newProps.checked;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type !== 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we\n\t// are in hydration mode or not by passing `IS_HYDRATE` instead of a\n\t// DOM element.\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\t((isHydrating ? parentDom : replaceNode || parentDom)._children = vnode),\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tcommitQueue,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length > 2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\treturn createVNode(\n\t\tvnode.type,\n\t\tprops,\n\t\tprops.key || vnode.key,\n\t\tprops.ref || vnode.ref\n\t);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\t\t\t\tthis.shouldComponentUpdate = _props => {\n\t\t\t\t\tif (props.value !== _props.value) {\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc.context = _props.value;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\treturn context;\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { enqueueRender } from '../component';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, hasCaught;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (\n\t\t\t\t\tcomponent.constructor &&\n\t\t\t\t\tcomponent.constructor.getDerivedStateFromError != null\n\t\t\t\t) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.setState(\n\t\t\t\t\t\tcomponent.constructor.getDerivedStateFromError(error)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\n\t\t\t\tif (hasCaught)\n\t\t\t\t\treturn enqueueRender((component._pendingError = component));\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\tif (process.env.RHL) {\n\t\t// enable hot loader\n\t\tconst hotLoader = interopDefault(require('react-hot-loader'));\n\t\thotLoader.preact(interopDefault(require('preact')));\n\t}\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData = JSON.parse(inlineDataElement.innerHTML).preRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst doRender =\n\t\t\tprocess.env.NODE_ENV !== 'production' ||\n\t\t\troot.tagName === 'script' ||\n\t\t\t!hydrate\n\t\t\t\t? render\n\t\t\t\t: hydrate;\n\t\troot = doRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n"],"sourceRoot":""}